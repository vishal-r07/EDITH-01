<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDITH - Personal AI Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800&family=Exo+2:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00f3ff;
            --secondary: #9d4edd;
            --accent: #ff2a6d;
            --dark: #0a0a1a;
            --darker: #050511;
            --card-bg: rgba(10, 15, 35, 0.7);
            --glow: 0 0 10px rgba(0, 243, 255, 0.5);
            --accent-glow: 0 0 15px rgba(255, 42, 109, 0.5);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: radial-gradient(ellipse at center, var(--darker) 0%, var(--dark) 70%);
            color: #fff;
            font-family: 'Exo 2', sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Grid lines background */
        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: -3;
        }

        /* Holographic effect */
        .holographic-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(157, 78, 221, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(0, 243, 255, 0.1) 0%, transparent 40%);
            z-index: -2;
            animation: gridMove 30s infinite linear;
        }

        @keyframes gridMove {
            0% { transform: rotate(0.5deg) scale(1); }
            50% { transform: rotate(-0.5deg) scale(1.02); }
            100% { transform: rotate(0.5deg) scale(1); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px;
            position: relative;
            z-index: 10;
        }

        /* Header with floating effect */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            margin-bottom: 25px;
            border-bottom: 1px solid rgba(0, 243, 255, 0.3);
            position: relative;
            animation: floatHeader 6s ease-in-out infinite;
        }

        @keyframes floatHeader {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--glow);
            animation: pulse 3s infinite;
        }

        .logo-icon i {
            font-size: 22px;
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: var(--glow);
            letter-spacing: 2px;
            line-height: 1;
        }

        .logo p {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            letter-spacing: 1px;
            margin-top: 3px;
        }

        .user-info {
            text-align: right;
        }

        .user-info h2 {
            font-size: 1.5rem;
            margin-bottom: 3px;
            color: var(--primary);
            text-shadow: var(--glow);
            font-weight: 600;
        }

        .user-info p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            font-style: italic;
        }

        /* Status bar */
        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--card-bg);
            border-radius: 10px;
            padding: 15px 20px;
            margin-bottom: 25px;
            box-shadow: var(--glow);
            border: 1px solid rgba(0, 243, 255, 0.3);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-light {
            width: 12px;
            height: 12px;
            background: #0f0;
            border-radius: 50%;
            box-shadow: 0 0 10px #0f0;
            animation: blink 1.5s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .status-text {
            font-size: 1rem;
            color: var(--primary);
            font-weight: 500;
        }

        .status-text span {
            color: var(--accent);
            text-shadow: var(--accent-glow);
        }

        .controls {
            display: flex;
            gap: 10px;
        }

        .btn {
            background: rgba(20, 30, 60, 0.8);
            color: var(--primary);
            border: 1px solid rgba(0, 243, 255, 0.3);
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
            font-family: 'Exo 2', sans-serif;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.9rem;
            letter-spacing: 0.5px;
            backdrop-filter: blur(5px);
            position: relative;
            overflow: hidden;
        }

        .btn i {
            font-size: 1rem;
        }

        .btn:hover {
            background: rgba(0, 243, 255, 0.2);
            box-shadow: var(--glow);
        }

        /* Main content grid */
        .main-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        /* Floating panels */
        .panel {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: var(--glow);
            border: 1px solid rgba(0, 243, 255, 0.3);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }

        .panel::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }

        .panel-header::after {
            content: "";
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 80px;
            height: 2px;
            background: linear-gradient(90deg, var(--accent), transparent);
        }

        .panel-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.4rem;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }

        .panel-title i {
            font-size: 1.2rem;
            color: var(--accent);
            text-shadow: var(--accent-glow);
        }

        /* Calendar */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 6px;
            text-align: center;
            margin-bottom: 15px;
        }

        .calendar-header {
            color: var(--primary);
            font-weight: 600;
            padding: 8px 0;
            font-size: 0.9rem;
        }

        .calendar-day {
            background: rgba(30, 40, 70, 0.5);
            padding: 10px 0;
            border-radius: 6px;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .calendar-day.today {
            background: rgba(0, 243, 255, 0.3);
            box-shadow: var(--glow);
            font-weight: 600;
            color: white;
        }

        .calendar-day.event::after {
            content: "";
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            background: var(--accent);
            border-radius: 50%;
            box-shadow: var(--accent-glow);
        }

        .calendar-events {
            margin-top: 15px;
        }

        .event-item {
            background: linear-gradient(90deg, rgba(30, 40, 70, 0.5), rgba(20, 25, 50, 0.7));
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: var(--transition);
            border-left: 2px solid var(--accent);
            font-size: 0.95rem;
        }

        .event-time {
            font-weight: 600;
            color: var(--primary);
            min-width: 70px;
            font-size: 0.95rem;
        }

        .event-desc {
            flex-grow: 1;
            font-size: 0.95rem;
        }

        .event-actions {
            display: flex;
            gap: 8px;
            flex-shrink: 0;
        }

        .event-edit-btn,
        .event-delete-btn {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .event-edit-btn:hover {
            color: var(--primary);
            background: rgba(0, 243, 255, 0.1);
        }

        .event-delete-btn:hover {
            color: var(--accent);
            background: rgba(255, 42, 109, 0.1);
        }

        /* To-Do List */
        .todo-list {
            max-height: 250px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .todo-list::-webkit-scrollbar {
            width: 6px;
        }

        .todo-list::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: 6px;
        }

        .todo-item {
            background: linear-gradient(90deg, rgba(30, 40, 70, 0.5), rgba(20, 25, 50, 0.7));
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: var(--transition);
            border-left: 2px solid var(--primary);
            font-size: 1rem;
        }

        .todo-check {
            width: 20px;
            height: 20px;
            border: 2px solid var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            flex-shrink: 0;
            transition: var(--transition);
            box-shadow: var(--glow);
        }

        .todo-check.checked {
            background: var(--primary);
        }

        .todo-check.checked::after {
            content: "âœ“";
            color: var(--dark);
            font-size: 14px;
            font-weight: bold;
        }

        .todo-text {
            flex-grow: 1;
            font-size: 1rem;
        }

        .todo-text.completed {
            text-decoration: line-through;
            color: rgba(255, 255, 255, 0.5);
        }

        .todo-delete {
            color: rgba(255, 100, 100, 0.7);
            cursor: pointer;
            transition: var(--transition);
            flex-shrink: 0;
            font-size: 1rem;
        }

        .todo-input {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .todo-input input {
            flex-grow: 1;
            background: rgba(20, 30, 60, 0.7);
            border: 1px solid rgba(0, 243, 255, 0.3);
            border-radius: 6px;
            padding: 10px 15px;
            color: white;
            font-family: 'Exo 2', sans-serif;
            font-size: 1rem;
            transition: var(--transition);
        }

        .todo-input input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: var(--glow);
        }

        .todo-input button {
            padding: 10px 15px;
        }

        /* Project cards */
        .project-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }

        .project-card {
            background: linear-gradient(135deg, rgba(30, 40, 70, 0.7), rgba(20, 25, 50, 0.8));
            border-radius: 12px;
            padding: 15px;
            border: 1px solid rgba(0, 243, 255, 0.2);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .project-name {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--primary);
            font-weight: 600;
        }

        .project-desc {
            color: rgba(255, 255, 255, 0.85);
            margin-bottom: 15px;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .project-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .progress-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        /* Voice Assistant */
        .voice-assistant {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: var(--glow);
            border: 1px solid rgba(0, 243, 255, 0.3);
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }

        .voice-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .voice-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--glow), var(--accent-glow);
            animation: pulse 3s infinite;
        }

        .voice-icon i {
            font-size: 22px;
        }

        .voice-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.6rem;
            color: var(--primary);
            text-shadow: var(--glow);
            font-weight: 600;
        }

        .voice-controls {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
        }

        .voice-btn {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: rgba(20, 30, 60, 0.7);
            border: 2px solid var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.4);
            position: relative;
            overflow: hidden;
        }

        .voice-btn.active {
            background: rgba(0, 243, 255, 0.3);
            animation: pulse 2s infinite;
        }

        .voice-btn.speaking {
            background: rgba(255, 42, 109, 0.3);
            animation: pulse 1.5s infinite;
        }

        .voice-btn i {
            font-size: 28px;
            color: var(--primary);
        }

        .voice-btn.active i {
            color: var(--primary);
            text-shadow: var(--glow);
        }

        .voice-btn.speaking i {
            color: var(--accent);
            text-shadow: var(--accent-glow);
        }

        .voice-response {
            background: rgba(10, 20, 40, 0.6);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            min-height: 100px;
            border: 1px solid rgba(0, 243, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .response-text {
            font-size: 1.1rem;
            line-height: 1.5;
            color: rgba(255, 255, 255, 0.95);
            position: relative;
            z-index: 2;
        }

        .typing-indicator {
            display: flex;
            gap: 6px;
            align-items: center;
            color: var(--primary);
            font-style: italic;
            font-size: 1rem;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--primary);
            border-radius: 50%;
            animation: bounce 1.5s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .command-list {
            margin-top: 20px;
            padding: 15px;
            background: rgba(10, 20, 40, 0.5);
            border-radius: 10px;
            border: 1px solid rgba(0, 243, 255, 0.2);
            font-size: 0.9rem;
        }

        .command-list h3 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.1rem;
            text-shadow: var(--glow);
            font-family: 'Orbitron', sans-serif;
        }

        .command-item {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
        }

        .command-keyword {
            color: var(--accent);
            font-weight: 600;
            min-width: 120px;
        }

        /* Startup Animation */
        .startup-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--darker);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 1;
            transition: opacity 1.2s ease;
        }

        .startup-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            text-align: center;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(0, 243, 255, 0.7);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 1.5s forwards;
            line-height: 1.2;
            letter-spacing: 2px;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .powered-by {
            margin-top: 25px;
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.7);
            opacity: 0;
            animation: fadeIn 1.2s forwards 1.2s;
            letter-spacing: 1px;
        }

        .hidden {
            display: none;
        }

        /* Responsive Design */
        @media (min-width: 768px) {
            .main-content {
                grid-template-columns: 1fr 1fr;
            }
            
            .voice-assistant {
                grid-column: span 2;
            }
            
            .panel:last-child {
                grid-column: span 2;
            }
        }

        @media (min-width: 992px) {
            .container {
                padding: 20px;
            }
            
            .logo h1 {
                font-size: 2rem;
            }
            
            .panel {
                padding: 25px;
            }
        }

        .calendar-day.selected {
            background: rgba(255, 42, 109, 0.3);
            box-shadow: var(--accent-glow);
            font-weight: 700;
            color: white;
            transform: scale(1.05);
        }

        .calendar-day.event {
            position: relative;
        }
    </style>
</head>
<body>
    <!-- Background elements -->
    <div class="holographic-grid"></div>
    
    <!-- Startup Animation -->
    <div class="startup-animation" id="startup-animation">
        <div class="startup-text">
            <div>SYSTEM INITIALIZED</div>
            <div>Hello Vishal.</div>
            <div>EDITH is online.</div>
        </div>
        <div class="powered-by">Personal AI Assistant</div>
    </div>
    
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="logo-text">
                    <h1>EDITH</h1>
                    <p>Advanced AI Assistant</p>
                </div>
            </div>
            <div class="user-info">
                <h2>Vishal</h2>
                <p>Welcome back, Sir</p>
            </div>
        </header>
        
        <div class="status-bar">
            <div class="status-indicator">
                <div class="status-light"></div>
                <div class="status-text">Status: <span>Operational</span></div>
            </div>
            <div class="controls">
                <button class="btn" id="music-btn">
                    <i class="fas fa-music"></i> Music
                </button>
                <button class="btn" id="theme-btn">
                    <i class="fas fa-moon"></i> Theme
                </button>
            </div>
        </div>
        
        <div class="voice-assistant">
            <div class="voice-header">
                <div class="voice-icon">
                    <i class="fas fa-microphone-alt"></i>
                </div>
                <div class="voice-title">Voice Assistant</div>
            </div>
            
            <div class="voice-controls">
                <div class="voice-btn" id="listen-btn">
                    <i class="fas fa-microphone"></i>
                </div>
                <div class="voice-btn" id="speak-btn">
                    <i class="fas fa-robot"></i>
                </div>
            </div>
            
            <div class="voice-response">
                <div class="response-text" id="response-text">
                    <div class="typing-indicator hidden" id="typing-indicator">
                        <span>Processing</span>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                    <div id="response-content">Ready for your command, Vishal.</div>
                </div>
            </div>
            
            <div class="command-list">
                <h3>Voice Commands:</h3>
                <div class="command-item">
                    <span class="command-keyword">"Add task [task]"</span>
                    <span>Add to to-do list</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"Delete task [task]"</span>
                    <span>Remove from to-do list</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"Complete task [task]"</span>
                    <span>Mark task as done</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"Show tasks"</span>
                    <span>List all tasks</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"Show calendar"</span>
                    <span>Display schedule</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"Show events for [date]"</span>
                    <span>View events for specific date</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"Calendar [date] [event]"</span>
                    <span>Add calendar event</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"Delete calendar event [name]"</span>
                    <span>Remove calendar event</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"Start project [name]"</span>
                    <span>Initiate new project</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"Project status"</span>
                    <span>Check progress</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"System report"</span>
                    <span>Check system status</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"What time is it"</span>
                    <span>Get current time</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"Set reminder [task] for [time]"</span>
                    <span>Create reminder</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"Work summary"</span>
                    <span>Today's progress</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"Help"</span>
                    <span>Show all commands</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"Play music"</span>
                    <span>Start background music</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"Stop music"</span>
                    <span>Pause background music</span>
                </div>
                <div class="command-item">
                    <span class="command-keyword">"Volume up/down"</span>
                    <span>Adjust music volume</span>
                </div>
            </div>
        </div>
        
        <div class="main-content">
            <div class="panel">
                <div class="panel-header">
                    <div class="panel-title">
                        <i class="far fa-calendar-alt"></i> Calendar
                    </div>
                    <button class="btn">
                        <i class="fas fa-sync-alt"></i> 
                    </button>
                </div>
                
                <div class="calendar-grid" id="calendar-grid">
                    <!-- Calendar will be generated by JS -->
                </div>
                
                <div class="calendar-events">
                    <h3 style="margin: 15px 0 10px; color: var(--primary);">Today's Events</h3>
                    <div class="event-item">
                        <div class="event-time">10:00 AM</div>
                        <div class="event-desc">Project Review</div>
                    </div>
                    <div class="event-item">
                        <div class="event-time">2:30 PM</div>
                        <div class="event-desc">Client Meeting</div>
                    </div>
                </div>
            </div>
            
            <div class="panel">
                <div class="panel-header">
                    <div class="panel-title">
                        <i class="fas fa-tasks"></i> To-Do List
                    </div>
                    <button class="btn">
                        <i class="fas fa-plus"></i> 
                    </button>
                </div>
                
                <div class="todo-list" id="todo-list">
                    <!-- To-do items will be added here -->
                </div>
                
                <div class="todo-input">
                    <input type="text" id="new-task-input" placeholder="New task...">
                    <button class="btn" id="add-task-button">
                        <i class="fas fa-plus"></i> 
                    </button>
            </div>
        </div>
        
        <div class="panel">
            <div class="panel-header">
                <div class="panel-title">
                        <i class="fas fa-project-diagram"></i> Projects
                </div>
                    <button class="btn">
                        <i class="fas fa-plus"></i> 
                </button>
            </div>
            
                <div class="project-grid">
                    <div class="project-card">
                        <div class="project-name">ESP32 Development</div>
                        <div class="project-desc">Building IoT device with ESP32</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 65%; background: var(--secondary);"></div>
                        </div>
                        <div class="project-status">
                            <div class="status-badge status-in-progress">In Progress</div>
                            <div>65%</div>
                        </div>
                    </div>
                    
                    <div class="project-card">
                        <div class="project-name">Radar System</div>
                        <div class="project-desc">Object detection radar</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 40%; background: #6496ff;"></div>
                        </div>
                        <div class="project-status">
                            <div class="status-badge status-in-progress">In Progress</div>
                            <div>40%</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Audio elements -->
    <audio id="background-music" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>
    <audio id="voice-startup">
        <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" type="audio/wav">
    </audio>
    <audio id="voice-command">
        <source src="https://www.soundjay.com/misc/sounds/notification-sound-1.wav" type="audio/wav">
    </audio>
    
    <script>
        // Startup animation
        document.addEventListener('DOMContentLoaded', function() {
            const startupAnimation = document.getElementById('startup-animation');
            
            // Play startup sound
            playStartupSound();
            
            // Speak welcome message
            setTimeout(() => {
                const welcomeMessage = "Hello Vishal. EDITH is now online and ready to assist you.";
                speakText(welcomeMessage);
            }, 2000);
            
            setTimeout(() => {
                startupAnimation.style.opacity = '0';
                setTimeout(() => {
                    startupAnimation.classList.add('hidden');
                }, 1200);
            }, 3500);
            
            // Initialize modules
            loadCalendarEvents();
            renderCalendar();
            loadTodos();
            loadPreferences();
            
            // Initialize voice assistant
            initVoiceAssistant();
            
            // Set up event listeners
            setupEventListeners();
            
            // Update music button state
            const musicBtn = document.getElementById('music-btn');
            if (musicPlaying) {
                musicBtn.innerHTML = '<i class="fas fa-pause"></i> Music';
                musicBtn.classList.add('active');
            }
        });
        
        // Calendar events data structure
        let calendarEvents = [];

        // Load calendar events from localStorage
        function loadCalendarEvents() {
            const saved = localStorage.getItem('edith-calendar-events');
            if (saved) {
                calendarEvents = JSON.parse(saved);
            } else {
                // Only set default events if no saved data exists
                calendarEvents = [
                    { id: 1, date: '2024-01-15', time: '10:00 AM', title: 'Project Review', description: 'Team meeting for project review' },
                    { id: 2, date: '2024-01-15', time: '2:30 PM', title: 'Client Meeting', description: 'Tech demo for client' },
                    { id: 3, date: '2024-01-16', time: '9:00 AM', title: 'Hardware Testing', description: 'ESP32 hardware testing session' }
                ];
                // Save the default events
                saveCalendarEvents();
            }
        }
        
        // Calendar rendering
        function renderCalendar() {
            const calendarGrid = document.getElementById('calendar-grid');
            const days = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'];
            const today = new Date();
            const firstDay = new Date(today.getFullYear(), today.getMonth(), 1);
            const lastDay = new Date(today.getFullYear(), today.getMonth() + 1, 0);
            
            // Clear existing calendar
            calendarGrid.innerHTML = '';
            
            // Add day headers
            days.forEach(day => {
                const header = document.createElement('div');
                header.classList.add('calendar-header');
                header.textContent = day;
                calendarGrid.appendChild(header);
            });
            
            // Add empty cells for days before the first day of the month
            for (let i = 0; i < firstDay.getDay(); i++) {
                const emptyCell = document.createElement('div');
                emptyCell.classList.add('calendar-day');
                calendarGrid.appendChild(emptyCell);
            }
            
            // Add days of the month
            for (let i = 1; i <= lastDay.getDate(); i++) {
                const dayCell = document.createElement('div');
                dayCell.classList.add('calendar-day');
                dayCell.textContent = i;
                
                // Mark today
                if (i === today.getDate() && today.getMonth() === new Date().getMonth()) {
                    dayCell.classList.add('today');
                }
                
                // Check if day has events
                const dateString = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(i).padStart(2, '0')}`;
                const dayEvents = calendarEvents.filter(event => event.date === dateString);
                if (dayEvents.length > 0) {
                    dayCell.classList.add('event');
                }
                
                // Add click event to view events for this date
                dayCell.addEventListener('click', () => {
                    if (i) { // Only if it's a valid day (not empty cell)
                        viewEventsForDate(dateString);
                    }
                });
                
                calendarGrid.appendChild(dayCell);
            }
            
            // Update events display for today by default
            const todayString = today.toISOString().split('T')[0];
            renderCalendarEvents(todayString);
        }

        function renderCalendarEvents(selectedDate = null) {
            const eventsContainer = document.querySelector('.calendar-events');
            const dateToShow = selectedDate || new Date().toISOString().split('T')[0];
            const dateEvents = calendarEvents.filter(event => event.date === dateToShow);
            
            // Clear existing events
            const existingEvents = eventsContainer.querySelectorAll('.event-item');
            existingEvents.forEach(event => event.remove());
            
            // Add date header
            const dateHeader = document.createElement('h3');
            dateHeader.style.margin = '15px 0 10px';
            dateHeader.style.color = 'var(--primary)';
            dateHeader.style.fontSize = '1.1rem';
            dateHeader.style.fontWeight = '600';
            
            const displayDate = new Date(dateToShow);
            const today = new Date();
            const isToday = dateToShow === today.toISOString().split('T')[0];
            
            if (isToday) {
                dateHeader.textContent = "Today's Events";
            } else {
                dateHeader.textContent = `Events for ${displayDate.toLocaleDateString('en-US', { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                })}`;
            }
            
            eventsContainer.appendChild(dateHeader);
            
            if (dateEvents.length === 0) {
                const noEvents = document.createElement('div');
                noEvents.style.textAlign = 'center';
                noEvents.style.color = 'rgba(255, 255, 255, 0.6)';
                noEvents.style.padding = '20px';
                noEvents.textContent = isToday ? 'No events scheduled for today' : 'No events scheduled for this date';
                eventsContainer.appendChild(noEvents);
            } else {
                dateEvents.forEach(event => {
                    const eventItem = document.createElement('div');
                    eventItem.classList.add('event-item');
                    eventItem.setAttribute('data-event-id', event.id);
                    
                    eventItem.innerHTML = `
                        <div class="event-time">${event.time}</div>
                        <div class="event-desc">${event.title}</div>
                        <div class="event-actions">
                            <button class="event-edit-btn" onclick="editEvent(${event.id})">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="event-delete-btn" onclick="deleteEvent(${event.id})">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    `;
                    
                    eventsContainer.appendChild(eventItem);
                });
            }
        }

        function viewEventsForDate(dateString) {
            // Highlight selected date in calendar
            const allDays = document.querySelectorAll('.calendar-day');
            allDays.forEach(day => day.classList.remove('selected'));
            
            const selectedDay = Array.from(allDays).find(day => {
                const dayNumber = day.textContent;
                if (dayNumber) {
                    const today = new Date();
                    const dayDateString = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(dayNumber).padStart(2, '0')}`;
                    return dayDateString === dateString;
                }
                return false;
            });
            
            if (selectedDay) {
                selectedDay.classList.add('selected');
            }
            
            // Render events for selected date
            renderCalendarEvents(dateString);
            
            // Speak the events for the selected date
            const dateEvents = calendarEvents.filter(event => event.date === dateString);
            const displayDate = new Date(dateString);
            const today = new Date();
            const isToday = dateString === today.toISOString().split('T')[0];
            
            let response;
            if (dateEvents.length === 0) {
                response = isToday ? 
                    "You have no events scheduled for today." : 
                    `You have no events scheduled for ${displayDate.toLocaleDateString()}.`;
            } else {
                const eventList = dateEvents.map(event => `${event.title} at ${event.time}`).join(', ');
                response = isToday ?
                    `You have ${dateEvents.length} event(s) scheduled today: ${eventList}.` :
                    `You have ${dateEvents.length} event(s) scheduled for ${displayDate.toLocaleDateString()}: ${eventList}.`;
            }
            
            speakText(response);
        }

        // Event management functions
        function addCalendarEvent(date, time, title, description = '') {
            const newEvent = {
                id: Date.now(), // Simple ID generation
                date: date,
                time: time,
                title: title,
                description: description
            };
            
            calendarEvents.push(newEvent);
            renderCalendar();
            saveCalendarEvents();
            return newEvent;
        }

        function deleteEvent(eventId) {
            const eventIndex = calendarEvents.findIndex(event => event.id === eventId);
            if (eventIndex !== -1) {
                calendarEvents.splice(eventIndex, 1);
                renderCalendar();
                saveCalendarEvents();
                return true;
            }
            return false;
        }

        function editEvent(eventId) {
            const event = calendarEvents.find(event => event.id === eventId);
            if (event) {
                // Simple prompt-based editing (you can enhance this with a modal)
                const newTitle = prompt('Edit event title:', event.title);
                if (newTitle !== null) {
                    event.title = newTitle;
                    const newTime = prompt('Edit event time (e.g., 2:30 PM):', event.time);
                    if (newTime !== null) {
                        event.time = newTime;
                        renderCalendar();
                        saveCalendarEvents();
                    }
                }
            }
        }

        function saveCalendarEvents() {
            localStorage.setItem('edith-calendar-events', JSON.stringify(calendarEvents));
        }

        // Voice command calendar functions
        function processCalendarCommand(command) {
            // Extract date and event from command like "calendar tomorrow meeting with client"
            const calendarMatch = command.match(/calendar\s+(.+?)\s+(.+)/);
            if (calendarMatch) {
                const dateStr = calendarMatch[1];
                const eventTitle = calendarMatch[2];
                
                // Parse date
                let targetDate = new Date();
                const today = new Date();
                
                if (dateStr.toLowerCase().includes('tomorrow')) {
                    targetDate.setDate(today.getDate() + 1);
                } else if (dateStr.toLowerCase().includes('today')) {
                    targetDate = today;
                } else if (dateStr.toLowerCase().includes('next week')) {
                    targetDate.setDate(today.getDate() + 7);
                } else {
                    // Try to parse specific date
                    const parsedDate = new Date(dateStr);
                    if (!isNaN(parsedDate.getTime())) {
                        targetDate = parsedDate;
                    }
                }
                
                const dateString = targetDate.toISOString().split('T')[0];
                const timeString = '9:00 AM'; // Default time
                
                addCalendarEvent(dateString, timeString, eventTitle);
                return `Added "${eventTitle}" to your calendar for ${targetDate.toLocaleDateString()}.`;
            }
            return "Please specify a date and event. For example: 'calendar tomorrow team meeting'";
        }

        function deleteCalendarEvent(command) {
            const eventTitle = command.replace(/delete\s+(calendar\s+)?event\s+/i, '').trim();
            if (eventTitle) {
                const event = calendarEvents.find(event => 
                    event.title.toLowerCase().includes(eventTitle.toLowerCase())
                );
                if (event) {
                    deleteEvent(event.id);
                    return `Deleted calendar event "${event.title}".`;
                } else {
                    return `Calendar event "${eventTitle}" not found.`;
                }
            }
            return "Please specify which calendar event to delete.";
        }
        
        // To-Do List functionality
        function loadTodos() {
            const todoList = document.getElementById('todo-list');
            const savedTodos = localStorage.getItem('edith-todos');
            
            let todos;
            if (savedTodos) {
                todos = JSON.parse(savedTodos);
            } else {
                // Only set default todos if no saved data exists
                todos = [
                    { text: 'Review ESP32 design', completed: true },
                    { text: 'Prepare for client meeting', completed: false },
                    { text: 'Update documentation', completed: false }
                ];
                // Save the default todos
                localStorage.setItem('edith-todos', JSON.stringify(todos));
            }
            
            todoList.innerHTML = '';
            
            todos.forEach((todo) => {
                addTodoToDOM(todo.text, todo.completed);
            });
        }
        
        function saveTodos() {
            const todos = [];
            document.querySelectorAll('.todo-item').forEach(item => {
                const text = item.querySelector('.todo-text').textContent;
                const completed = item.querySelector('.todo-check').classList.contains('checked');
                todos.push({ text, completed });
            });
            
            localStorage.setItem('edith-todos', JSON.stringify(todos));
        }
        
        function addTodoToDOM(text, completed = false) {
            const todoList = document.getElementById('todo-list');
            const todoItem = document.createElement('div');
            todoItem.classList.add('todo-item');
            
            todoItem.innerHTML = `
                <div class="todo-check ${completed ? 'checked' : ''}"></div>
                <div class="todo-text ${completed ? 'completed' : ''}">${text}</div>
                <div class="todo-delete"><i class="fas fa-trash-alt"></i></div>
            `;
            
            // Add event listeners
            const checkBtn = todoItem.querySelector('.todo-check');
            const deleteBtn = todoItem.querySelector('.todo-delete');
            const todoText = todoItem.querySelector('.todo-text');
            
            checkBtn.addEventListener('click', () => {
                checkBtn.classList.toggle('checked');
                todoText.classList.toggle('completed');
                saveTodos();
            });
            
            deleteBtn.addEventListener('click', () => {
                todoItem.style.transform = 'translateX(100px)';
                todoItem.style.opacity = '0';
                setTimeout(() => {
                    todoItem.remove();
                    saveTodos();
                }, 300);
            });
            
            todoList.appendChild(todoItem);
        }
        
        // Add new task
        function addNewTask() {
            const input = document.getElementById('new-task-input');
            const text = input.value.trim();
            
            if (text) {
                addTodoToDOM(text);
                input.value = '';
                saveTodos();
                
                // Animate the new task
                const todos = document.querySelectorAll('.todo-item');
                const lastTodo = todos[todos.length - 1];
                lastTodo.style.animation = 'none';
                setTimeout(() => {
                    lastTodo.style.animation = 'fadeIn 0.6s ease';
                }, 10);
            }
        }
        
        // Voice Assistant
        function initVoiceAssistant() {
            const listenBtn = document.getElementById('listen-btn');
            const speakBtn = document.getElementById('speak-btn');
            const responseContent = document.getElementById('response-content');
            const typingIndicator = document.getElementById('typing-indicator');
            
            // Speech recognition setup
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            let recognition = null;
            
            if (SpeechRecognition) {
                recognition = new SpeechRecognition();
            recognition.continuous = false;
            recognition.lang = 'en-US';
            recognition.interimResults = false;
            recognition.maxAlternatives = 1;
            }
            
            // Speech synthesis setup
            const synth = window.speechSynthesis;
            
            listenBtn.addEventListener('click', () => {
                if (listenBtn.classList.contains('active')) {
                    if (recognition) recognition.stop();
                    listenBtn.classList.remove('active');
                    const response = "Voice recognition stopped.";
                    responseContent.textContent = response;
                    speakText(response);
                } else {
                    if (recognition) {
                    recognition.start();
                    listenBtn.classList.add('active');
                        playCommandSound();
                        const response = "Listening... Speak now.";
                        responseContent.textContent = response;
                        speakText(response);
                    } else {
                        const response = "Speech recognition not supported in this browser.";
                        responseContent.textContent = response;
                        speakText(response);
                    }
                }
            });
            
            if (recognition) {
            recognition.onresult = (event) => {
                const speechResult = event.results[0][0].transcript.toLowerCase();
                listenBtn.classList.remove('active');
                showTypingIndicator();
                
                setTimeout(() => {
                    processVoiceCommand(speechResult);
                }, 2000);
            };
            
            recognition.onerror = (event) => {
                listenBtn.classList.remove('active');
                    const response = "Error occurred in recognition: " + event.error;
                    responseContent.textContent = response;
                    speakText(response);
            };
            }
            
            speakBtn.addEventListener('click', () => {
                if (synth.speaking) {
                    synth.cancel();
                    speakBtn.classList.remove('speaking');
                    const response = "Speech stopped.";
                    responseContent.textContent = response;
                    speakText(response);
                } else {
                    speakBtn.classList.add('speaking');
                    showTypingIndicator();
                    
                    setTimeout(() => {
                        const message = "All systems are operational. Your projects are progressing as scheduled. How can I assist you further, Vishal?";
                        speakText(message);
                        responseContent.innerHTML = message;
                    }, 2000);
                }
            });
            
            function processVoiceCommand(command) {
                let response = "Command not recognized. Please try again.";
                
                // Task management commands
                if (command.includes('add task')) {
                    const task = command.replace('add task', '').trim();
                    if (task) {
                        addTodoToDOM(task);
                        response = `Task "${task}" added to your to-do list.`;
                    } else {
                        response = "Please specify a task to add.";
                    }
                } else if (command.includes('delete task')) {
                    const taskToDelete = command.replace('delete task', '').trim();
                    if (taskToDelete) {
                        const deleted = deleteTask(taskToDelete);
                        if (deleted) {
                            response = `Task "${taskToDelete}" has been deleted.`;
                        } else {
                            response = `Task "${taskToDelete}" not found in your to-do list.`;
                        }
                    } else {
                        response = "Please specify which task to delete.";
                    }
                } else if (command.includes('complete task') || command.includes('completed task')) {
                    const taskToComplete = command.replace(/complete(d)? task/, '').trim();
                    if (taskToComplete) {
                        const completed = markTaskComplete(taskToComplete);
                        if (completed) {
                            response = `Task "${taskToComplete}" marked as completed.`;
                        } else {
                            response = `Task "${taskToComplete}" not found in your to-do list.`;
                        }
                    } else {
                        response = "Please specify which task to mark as completed.";
                    }
                } else if (command.includes('show tasks') || command.includes('list tasks')) {
                    const tasks = getTaskList();
                    if (tasks.length > 0) {
                        response = `Your current tasks: ${tasks.join(', ')}.`;
                    } else {
                        response = "You have no tasks in your to-do list.";
                    }
                } else if (command.includes('clear all tasks')) {
                    clearAllTasks();
                    response = "All tasks have been cleared from your to-do list.";
                }
                
                // Calendar commands
                else if (command.includes('show calendar') || command.includes('what\'s on my calendar')) {
                    const today = new Date();
                    const todayString = today.toISOString().split('T')[0];
                    const todayEvents = calendarEvents.filter(event => event.date === todayString);
                    
                    if (todayEvents.length > 0) {
                        const eventList = todayEvents.map(event => `${event.title} at ${event.time}`).join(', ');
                        response = `You have ${todayEvents.length} event(s) scheduled today: ${eventList}.`;
                    } else {
                        response = "You have no events scheduled for today.";
                    }
                } else if (command.includes('show events for') || command.includes('events on')) {
                    // Extract date from command like "show events for tomorrow" or "events on January 15th"
                    const dateMatch = command.match(/(?:show events for|events on)\s+(.+)/);
                    if (dateMatch) {
                        const dateStr = dateMatch[1].trim();
                        const targetDate = parseDateFromString(dateStr);
                        if (targetDate) {
                            const dateString = targetDate.toISOString().split('T')[0];
                            viewEventsForDate(dateString);
                            return; // Response will be handled by viewEventsForDate
                        } else {
                            response = "I couldn't understand that date. Please try saying 'show events for tomorrow' or 'events on January 15th'.";
                        }
                    } else {
                        response = "Please specify a date. For example: 'show events for tomorrow' or 'events on January 15th'.";
                    }
                } else if (command.includes('add calendar') || command.includes('calendar')) {
                    response = processCalendarCommand(command);
                } else if (command.includes('delete calendar event') || command.includes('remove calendar event')) {
                    response = deleteCalendarEvent(command);
                } else if (command.includes('what\'s next')) {
                    const today = new Date();
                    const todayString = today.toISOString().split('T')[0];
                    const todayEvents = calendarEvents.filter(event => event.date === todayString);
                    
                    if (todayEvents.length > 0) {
                        const nextEvent = todayEvents[0]; // Simple logic - could be enhanced with time comparison
                        response = `Your next event is ${nextEvent.title} at ${nextEvent.time}.`;
                    } else {
                        response = "You have no events scheduled for today.";
                    }
                } else if (command.includes('today\'s schedule')) {
                    const today = new Date();
                    const todayString = today.toISOString().split('T')[0];
                    const todayEvents = calendarEvents.filter(event => event.date === todayString);
                    
                    if (todayEvents.length > 0) {
                        const schedule = todayEvents.map(event => `${event.time} - ${event.title}`).join(', ');
                        response = `Today's schedule: ${schedule}.`;
                    } else {
                        response = "You have no events scheduled for today.";
                    }
                }
                
                // Project management commands
                else if (command.includes('start project')) {
                    const project = command.replace('start project', '').trim();
                    if (project) {
                        response = `Initializing new project: "${project}". What would you like to add as the first task?`;
                    } else {
                        response = "Please specify a project name.";
                    }
                } else if (command.includes('project status')) {
                    response = "ESP32 Development: 65% complete. Radar System: 40% complete.";
                } else if (command.includes('update project')) {
                    const projectMatch = command.match(/update project\s+(.+?)\s+to\s+(.+)/);
                    if (projectMatch) {
                        const project = projectMatch[1];
                        const status = projectMatch[2];
                        response = `Updated project "${project}" status to ${status}.`;
                    } else {
                        response = "Please specify project name and new status. For example: 'update project ESP32 to testing'";
                    }
                } else if (command.includes('log work')) {
                    response = "Work hours logged successfully. Total for today: 6.5 hours.";
                }
                
                // System commands
                else if (command.includes('system report') || command.includes('system diagnostics')) {
                    response = "All systems operational. CPU: 12% load. Memory: 42% utilized. Network: stable.";
                } else if (command.includes('system status')) {
                    response = "EDITH is fully operational. All modules are functioning normally.";
                } else if (command.includes('restart system')) {
                    response = "Initiating system restart sequence. Please wait...";
                } else if (command.includes('shutdown')) {
                    response = "Shutdown sequence initiated. Goodbye, Vishal.";
                }
                
                // Time and date commands
                else if (command.includes('time') || command.includes('what time')) {
                    const now = new Date();
                    const timeString = now.toLocaleTimeString();
                    response = `The current time is ${timeString}.`;
                } else if (command.includes('date') || command.includes('what date')) {
                    const now = new Date();
                    const dateString = now.toLocaleDateString();
                    response = `Today is ${dateString}.`;
                } else if (command.includes('day of week')) {
                    const now = new Date();
                    const dayString = now.toLocaleDateString('en-US', { weekday: 'long' });
                    response = `Today is ${dayString}.`;
                }
                
                // Greeting commands
                else if (command.includes('hello') || command.includes('hi')) {
                    response = "Hello Vishal. How can I assist you today?";
                } else if (command.includes('good morning')) {
                    response = "Good morning, Vishal. I hope you're having a great start to your day.";
                } else if (command.includes('good afternoon')) {
                    response = "Good afternoon, Vishal. How are your projects progressing?";
                } else if (command.includes('good evening')) {
                    response = "Good evening, Vishal. Would you like me to summarize today's activities?";
                } else if (command.includes('goodbye') || command.includes('bye')) {
                    response = "Goodbye, Vishal. Have a great day!";
                }
                
                // Information commands
                else if (command.includes('weather')) {
                    response = "I don't have access to weather data at the moment. Would you like me to help you with something else?";
                } else if (command.includes('news')) {
                    response = "I don't have access to news feeds currently. Would you like me to help you with your projects instead?";
                } else if (command.includes('help') || command.includes('commands')) {
                    response = "I can help you with tasks, calendar, projects, system status, time, and more. Try saying 'add task', 'show calendar', or 'project status'.";
                } else if (command.includes('who are you')) {
                    response = "I am EDITH, your personal AI assistant. I'm here to help you manage your tasks, projects, and daily activities.";
                } else if (command.includes('thank you') || command.includes('thanks')) {
                    response = "You're welcome, Vishal. Is there anything else I can help you with?";
                }
                
                // Music and entertainment commands
                else if (command.includes('play music') || command.includes('start music')) {
                    response = toggleMusic();
                } else if (command.includes('stop music') || command.includes('pause music')) {
                    response = toggleMusic();
                } else if (command.includes('volume up')) {
                    if (musicPlaying) {
                        backgroundMusic.volume = Math.min(1.0, backgroundMusic.volume + 0.2);
                        response = "Volume increased.";
                    } else {
                        response = "No music is currently playing.";
                    }
                } else if (command.includes('volume down')) {
                    if (musicPlaying) {
                        backgroundMusic.volume = Math.max(0.0, backgroundMusic.volume - 0.2);
                        response = "Volume decreased.";
                    } else {
                        response = "No music is currently playing.";
                    }
                }
                
                // Productivity commands
                else if (command.includes('take a break')) {
                    response = "Good idea! Taking breaks is important for productivity. I'll remind you to return in 15 minutes.";
                } else if (command.includes('focus mode')) {
                    response = "Focus mode activated. I'll minimize distractions and only alert you for important notifications.";
                } else if (command.includes('work summary')) {
                    response = "Today's work summary: 6.5 hours logged, 3 tasks completed, 2 projects in progress.";
                } else if (command.includes('set reminder')) {
                    const reminderMatch = command.match(/set reminder\s+(.+?)\s+for\s+(.+)/);
                    if (reminderMatch) {
                        const reminder = reminderMatch[1];
                        const time = reminderMatch[2];
                        response = `Reminder set for "${reminder}" at ${time}.`;
                    } else {
                        response = "Please specify what to remind you about and when. For example: 'set reminder call client for 3 PM'";
                    }
                }
                
                responseContent.innerHTML = response;
                speakText(response);
            }
            
            // Helper functions for task management
            function deleteTask(taskName) {
                const todoItems = document.querySelectorAll('.todo-item');
                for (let item of todoItems) {
                    const text = item.querySelector('.todo-text').textContent.toLowerCase();
                    if (text.includes(taskName.toLowerCase())) {
                        item.style.transform = 'translateX(100px)';
                        item.style.opacity = '0';
                        setTimeout(() => {
                            item.remove();
                        }, 300);
                        return true;
                    }
                }
                return false;
            }
            
            function markTaskComplete(taskName) {
                const todoItems = document.querySelectorAll('.todo-item');
                for (let item of todoItems) {
                    const text = item.querySelector('.todo-text').textContent.toLowerCase();
                    if (text.includes(taskName.toLowerCase())) {
                        const checkBtn = item.querySelector('.todo-check');
                        const todoText = item.querySelector('.todo-text');
                        
                        if (!checkBtn.classList.contains('checked')) {
                            checkBtn.classList.add('checked');
                            todoText.classList.add('completed');
                        }
                        return true;
                    }
                }
                return false;
            }
            
            function getTaskList() {
                const tasks = [];
                document.querySelectorAll('.todo-item').forEach(item => {
                    const text = item.querySelector('.todo-text').textContent;
                    const completed = item.querySelector('.todo-check').classList.contains('checked');
                    tasks.push(`${text}${completed ? ' (completed)' : ''}`);
                });
                return tasks;
            }
            
            function clearAllTasks() {
                const todoItems = document.querySelectorAll('.todo-item');
                todoItems.forEach((item, index) => {
                    setTimeout(() => {
                        item.style.transform = 'translateX(100px)';
                        item.style.opacity = '0';
                        setTimeout(() => {
                            item.remove();
                        }, 300);
                    }, index * 100);
                });
            }
            
            function showTypingIndicator() {
                responseContent.innerHTML = '';
                typingIndicator.classList.remove('hidden');
                
                setTimeout(() => {
                    typingIndicator.classList.add('hidden');
                }, 2000);
            }
            
            // Initialize voices when they become available
            if (synth.onvoiceschanged !== undefined) {
                synth.onvoiceschanged = () => {
                    // Voices are now available
                };
            }
        }
        
        // Setup event listeners
        function setupEventListeners() {
            // Add task button
            document.getElementById('add-task-button').addEventListener('click', addNewTask);
            document.getElementById('new-task-input').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') addNewTask();
            });
            
            // Theme toggle
            document.getElementById('theme-btn').addEventListener('click', () => {
                document.body.classList.toggle('light-mode');
                const btn = document.getElementById('theme-btn');
                if (document.body.classList.contains('light-mode')) {
                    btn.innerHTML = '<i class="fas fa-moon"></i> Dark';
                    localStorage.setItem('edith-theme', 'light');
            } else {
                    btn.innerHTML = '<i class="fas fa-sun"></i> Light';
                    localStorage.setItem('edith-theme', 'dark');
                }
            });
            
            // Music toggle
            document.getElementById('music-btn').addEventListener('click', () => {
                const response = toggleMusic();
                const btn = document.getElementById('music-btn');
                if (musicPlaying) {
                    btn.innerHTML = '<i class="fas fa-pause"></i> Music';
                    btn.classList.add('active');
            } else {
                    btn.innerHTML = '<i class="fas fa-music"></i> Music';
                    btn.classList.remove('active');
                }
                
                // Speak the response
                speakText(response);
            });
        }

        // Background Music
        let musicPlaying = false;
        const backgroundMusic = document.getElementById('background-music');
        const voiceStartup = document.getElementById('voice-startup');
        const voiceCommand = document.getElementById('voice-command');

        // Load saved preferences
        function loadPreferences() {
            // Load music state
            const savedMusicState = localStorage.getItem('edith-music-playing');
            if (savedMusicState === 'true') {
                musicPlaying = true;
                backgroundMusic.play().then(() => {
                    backgroundMusic.volume = 0.3;
                }).catch(error => {
                    console.log('Music playback failed:', error);
                    musicPlaying = false;
                });
            }
            
            // Load theme state
            const savedTheme = localStorage.getItem('edith-theme');
            if (savedTheme === 'light') {
                document.body.classList.add('light-mode');
            }
        }

        function toggleMusic() {
            if (musicPlaying) {
                backgroundMusic.pause();
                musicPlaying = false;
                localStorage.setItem('edith-music-playing', 'false');
                return "Music stopped.";
            } else {
                backgroundMusic.play().then(() => {
                    backgroundMusic.volume = 0.3;
                    musicPlaying = true;
                    localStorage.setItem('edith-music-playing', 'true');
                }).catch(error => {
                    console.log('Music playback failed:', error);
                    return "Music playback failed. Please check your browser settings.";
                });
                return "Music started. Enjoy your tunes, Vishal.";
            }
        }

        function playStartupSound() {
            voiceStartup.play().catch(error => {
                console.log('Startup sound failed:', error);
            });
        }

        function playCommandSound() {
            voiceCommand.play().catch(error => {
                console.log('Command sound failed:', error);
            });
        }

        // Global speech synthesis function
        function speakText(text) {
            const synth = window.speechSynthesis;
            
            if (synth.speaking) {
                synth.cancel();
            }
            
            const utterance = new SpeechSynthesisUtterance(text);
            
            // Try to find a good voice
            const voices = synth.getVoices();
            const preferredVoice = voices.find(voice => 
                voice.name.includes('Daniel') || 
                voice.name.includes('Google UK English Male') ||
                voice.name.includes('Microsoft David') ||
                voice.name.includes('Google US English Male')
            );
            
            if (preferredVoice) {
                utterance.voice = preferredVoice;
            }
            
            utterance.pitch = 0.9;
            utterance.rate = 1.1;
            utterance.volume = 0.8;
            
            utterance.onstart = () => {
                const speakBtn = document.getElementById('speak-btn');
                if (speakBtn) speakBtn.classList.add('speaking');
            };
            
            utterance.onend = () => {
                const speakBtn = document.getElementById('speak-btn');
                if (speakBtn) speakBtn.classList.remove('speaking');
            };
            
            utterance.onerror = (event) => {
                console.error('Speech synthesis error:', event);
                const speakBtn = document.getElementById('speak-btn');
                if (speakBtn) speakBtn.classList.remove('speaking');
            };
            
            synth.speak(utterance);
        }

        // Date parsing function for voice commands
        function parseDateFromString(dateStr) {
            const today = new Date();
            const lowerDateStr = dateStr.toLowerCase();
            
            // Handle relative dates
            if (lowerDateStr.includes('today')) {
                return today;
            } else if (lowerDateStr.includes('tomorrow')) {
                const tomorrow = new Date(today);
                tomorrow.setDate(today.getDate() + 1);
                return tomorrow;
            } else if (lowerDateStr.includes('yesterday')) {
                const yesterday = new Date(today);
                yesterday.setDate(today.getDate() - 1);
                return yesterday;
            } else if (lowerDateStr.includes('next week')) {
                const nextWeek = new Date(today);
                nextWeek.setDate(today.getDate() + 7);
                return nextWeek;
            } else if (lowerDateStr.includes('last week')) {
                const lastWeek = new Date(today);
                lastWeek.setDate(today.getDate() - 7);
                return lastWeek;
            }
            
            // Handle specific dates like "January 15th" or "15th January"
            const monthNames = [
                'january', 'february', 'march', 'april', 'may', 'june',
                'july', 'august', 'september', 'october', 'november', 'december'
            ];
            
            // Try to parse "January 15th" format
            for (let i = 0; i < monthNames.length; i++) {
                if (lowerDateStr.includes(monthNames[i])) {
                    const monthIndex = i;
                    const dayMatch = lowerDateStr.match(/(\d{1,2})(?:st|nd|rd|th)?/);
                    if (dayMatch) {
                        const day = parseInt(dayMatch[1]);
                        const year = today.getFullYear();
                        return new Date(year, monthIndex, day);
                    }
                }
            }
            
            // Try to parse "15th January" format
            const dayMatch = lowerDateStr.match(/(\d{1,2})(?:st|nd|rd|th)?/);
            if (dayMatch) {
                const day = parseInt(dayMatch[1]);
                for (let i = 0; i < monthNames.length; i++) {
                    if (lowerDateStr.includes(monthNames[i])) {
                        const monthIndex = i;
                        const year = today.getFullYear();
                        return new Date(year, monthIndex, day);
                    }
                }
            }
            
            // Try to parse MM/DD or DD/MM format
            const slashMatch = lowerDateStr.match(/(\d{1,2})\/(\d{1,2})/);
            if (slashMatch) {
                const first = parseInt(slashMatch[1]);
                const second = parseInt(slashMatch[2]);
                const year = today.getFullYear();
                
                // Assume MM/DD format for now
                if (first >= 1 && first <= 12 && second >= 1 && second <= 31) {
                    return new Date(year, first - 1, second);
                }
            }
            
            // Try to parse as a Date object directly
            const parsedDate = new Date(dateStr);
            if (!isNaN(parsedDate.getTime())) {
                return parsedDate;
            }
            
            return null;
        }
    </script>
</body>
</html>
